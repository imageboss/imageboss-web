"use strict";function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(b,!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(b).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _wrapRegExp(){function a(a,b,d){var f=c.call(this,a,b);return e.set(f,d||e.get(a)),f}function b(a,b){var c=e.get(b);return Object.keys(c).reduce(function(b,d){return b[d]=a[c[d]],b},Object.create(null))}_wrapRegExp=function(b,c){return new a(b,void 0,c)};var c=_wrapNativeSuper(RegExp),d=RegExp.prototype,e=new WeakMap;return _inherits(a,c),a.prototype.exec=function(a){var c=d.exec.call(this,a);return c&&(c.groups=b(c,this)),c},a.prototype[Symbol.replace]=function(a,c){if("string"==typeof c){var f=e.get(this);return d[Symbol.replace].call(this,a,c.replace(/\$<([^>]+)>/g,function(a,b){return"$"+f[b]}))}if("function"==typeof c){var g=this;return d[Symbol.replace].call(this,a,function(){var a=[];return a.push.apply(a,arguments),"object"!=typeof a[a.length-1]&&a.push(b(a,g)),c.apply(this,a)})}return d[Symbol.replace].call(this,a,c)},_wrapRegExp.apply(this,arguments)}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&_setPrototypeOf(a,b)}function _possibleConstructorReturn(a,b){return b&&("object"==typeof b||"function"==typeof b)?b:_assertThisInitialized(a)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _wrapNativeSuper(a){var b="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function(a){function c(){return _construct(a,arguments,_getPrototypeOf(this).constructor)}if(null===a||!_isNativeFunction(a))return a;if("function"!=typeof a)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof b){if(b.has(a))return b.get(a);b.set(a,c)}return c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(c,a)},_wrapNativeSuper(a)}function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}function _construct(){return _construct=isNativeReflectConstruct()?Reflect.construct:function(b,c,d){var e=[null];e.push.apply(e,c);var a=Function.bind.apply(b,e),f=new a;return d&&_setPrototypeOf(f,d.prototype),f},_construct.apply(null,arguments)}function _isNativeFunction(a){return-1!==Function.toString.call(a).indexOf("[native code]")}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _getPrototypeOf(a){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(a)}/* Copyright Â© 2020 ImageBoss. All rights reserved. */(function(a){var u=Math.round;function b(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:v,d=a.replace(/(-)([a-z])/g,a=>"".concat(a[1].toUpperCase()));return-1==[null,void 0].indexOf(c[d])?c[d]:b}function c(a,c){var d=j(a,c),e=-1==[null,void 0].indexOf(d);return e?"true"===d&&!0!==d:b(c,!1,x)}function d(a,b){var{source:c,operation:d,coverMode:e,width:f,height:g,options:h}=b,i="/:source/:operation/:options";"cover"===d?i="/:source/:operation::cover_mode/:widthx:height/:options":"width"===d?i="/:source/:operation/:width/:options":"height"===d&&(i="/:source/:operation/:height/:options"),h&&(h=h.split(",").filter((a,b,c)=>c.indexOf(a)===b).join(","));var j=i.replace(":source",c).replace(":operation",d||"").replace(":cover_mode",e||"").replace(":width",f||"").replace(":height",g||"").replace(":options",h||"").replace(/:\//g,"/");return j=(j+a.pathname).replace(/\/\//g,"/"),"https://img.imageboss.me"+j}function e(a){return!!a.getAttribute(x.imgPropKey)}function f(a){return!!a.getAttribute(x.bgPropKey)}function g(a){var b=document.createElement("a");return b.href=a,b}function h(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:x.srcPropKey;e(a)?a.setAttribute(c,b):f(a)&&(a.style.backgroundImage="url('".concat(b,"')"))}function i(a){return a&&j(a,"loaded")}function j(a,b){return a.getAttribute("".concat(x.protectedKey,"-").concat(b))}function k(a,b,c){return a.setAttribute("".concat(x.protectedKey,"-").concat(b),c)}function l(a){return a&&!a.match(/%/)?a:void 0}function m(a,b){var c=j(a,b)||l(a.getAttribute(b)),d="client".concat(b.charAt(0).toUpperCase()+b.slice(1));if(c)return c;return 1<a[d]?a[d]:a.parentNode[d]}function n(a){return{srcPropKey:j(a,"src-prop-key")||x.srcPropKey,srcsetPropKey:j(a,"srcset-prop-key")||x.srcsetPropKey,src:g(a.getAttribute(x.imgPropKey)||a.getAttribute(x.bgPropKey)),srcset:a.getAttribute(x.srcsetPropKey),sizes:a.getAttribute("sizes"),operation:j(a,"operation")||"width",coverMode:j(a,"cover-mode"),width:m(a,"width"),height:m(a,"height"),source:j(a,"source")||x.source,options:o(j(a,"options")),lowRes:c(a,"low-res"),dprDisabled:c(a,"dpr"),class:(j(a,"class")||"").split(" ").filter(b=>b)}}function o(a){return(a||"").split(",").filter(a=>a)}function p(a){for(var b=100,c=5e3,d=[a],e=a||100;e>=b;)e-=.5*e,d.push(u(e));for(e=a;e<=c;)e*=1.5,d.push(u(e));return d.filter(a=>a<c&&a>=b)}function q(a,b){var c,{source:e,srcsetPropKey:f,srcset:h,src:i,sizes:j,operation:k,coverMode:l,width:m,height:n,options:o}=b;if(!j)return a;c=h?h.split(",").map(a=>{var{width:b,url:c}=a.trim().match(_wrapRegExp(/(.+) ([0-9]+)w/,{url:1,width:2})).groups;return{width:b,url:c}}):p(m).map(function(a){return{url:i,width:a}});var q=m&&n?m/n:1;return h=c.map(a=>{var{url:b,width:c}=a,f={source:e,operation:k,coverMode:l,width:c,height:u(c/q),options:o.join(",")};return"".concat(d(g(b),f)," ").concat(c,"w")}).join(", "),a.setAttribute(f,h),a}function r(a,b){var{source:e,srcPropKey:g,src:i,operation:j,coverMode:k,lowRes:l,width:m,height:n,options:o}=b;if("SOURCE"!==a.tagName){var p="width"===j?2>=m:2>=m&&2>=n;p&&(j="cdn",console.error("ImageBossError: We couldn't to determine de dimensions of your image based on your markup.                 Make sure you set it using CSS (width:), width=\"\" or imageboss-width=\"\" attribute. Using CDN operation as fallback.",a,j,m,n)),x.dprSupport&&c(a,"dpr")&&o.push("dpr:2"),f(a)&&"auto"===getComputedStyle(a).backgroundSize&&(a.style.backgroundSize="100%");var q={source:e,operation:j,coverMode:k,width:m,height:n,options:o.join(",")};if(l){var r=d(i,_objectSpread({},q,{width:10,height:10,options:o.filter(a=>!a.match(/dpr/)).join(",")}));a.setAttribute(x.lowsrcPropKey,r)}h(a,d(i,q),g),b.class.forEach(b=>a.classList.add(b))}}function s(a){Array.from(a).filter(a=>{if(!a.getAttribute)return!1;var b=g(a.getAttribute(x.imgPropKey)||a.getAttribute(x.imgsrcPropKey)||a.getAttribute(x.bgPropKey)),c=RegExp(x.matchHosts.join("|"));return!(x.matchHosts.length&&b&&!b.href.match(c))&&b&&!i(a)}).forEach(a=>{var b=n(a),{source:c,src:d,operation:e,options:f}=b;return c||console.error("ImageBossError: You need to inform an image source!"),!c||x.devMode?(k(a,"loaded",!0),h(a,d)):void(x.format&&"auto"===x.format&&f.push("format:auto"),q(a,_objectSpread({},b,{options:f})),r(a,_objectSpread({},b,{options:f,operation:e})),k(a,"loaded",!0))})}function t(a){a&&(a.length&&Array.prototype.forEach.call(a,function(a){a.attributes&&(a.attributes[x.imgPropKey]||a.attributes[x.bgPropKey])&&!i(a)&&s([a]),t(a.childNodes)}),t(a.childNodes))}if(a){var v=a.ImageBoss,w="https://".concat("img.imageboss.me"),x={protectedKey:"data-imageboss",imgPropKey:b("imgPropKey","data-imageboss-src"),bgPropKey:b("bgPropKey","data-imageboss-bg-src"),sourcePropKey:b("sourcePropKey","data-imageboss-srcset"),srcPropKey:b("srcPropKey","src"),lowsrcPropKey:b("lowsrcPropKey","data-lowsrc"),srcsetPropKey:b("srcsetPropKey","srcset"),matchHosts:b("matchHosts",[]),source:b("source"),dprSupport:1<a.devicePixelRatio,lowRes:b("lowRes",!1),devMode:b("devMode",!1),dpr:b("dpr",!1),format:b("format","auto")},y="[".concat(x.imgPropKey,"],source[").concat(x.sourcePropKey,"],[").concat(x.bgPropKey,"]"),z=()=>s(document.querySelectorAll(y));"loading"!==document.readyState&&z(),a.addEventListener("DOMContentLoaded",z),a.addEventListener("DOMNodeInserted",function(a){t(a.target)})}})(window);

